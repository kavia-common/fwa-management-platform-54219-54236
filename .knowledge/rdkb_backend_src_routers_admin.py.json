{"is_source_file": true, "format": "Python", "description": "This source file defines API routes for administrative functions in a FastAPI application, including database initialization, seeding an admin user, and retrieving system statistics.", "external_files": ["src.core.database", "src.dependencies.auth", "src.models.models", "src.core.security"], "external_methods": ["src.core.database.Base.metadata.create_all", "src.core.database.get_db", "src.dependencies.auth.require_admin", "src.models.models.User", "src.models.models.Device", "src.models.models.Telemetry", "src.core.security.get_password_hash"], "published": ["init_db", "seed_admin", "system_stats"], "classes": [{"name": "APIRouter", "description": "FastAPI router object used to define admin-related endpoints"}], "methods": [{"name": "dict init_db(_: User = Depends(require_admin))", "description": "Creates all database tables based on SQLAlchemy models.", "scope": "", "scopeKind": ""}, {"name": "dict seed_admin(db: Session = Depends(get_db), _: User = Depends(require_admin))", "description": "Creates a default admin user if none exists.", "scope": "", "scopeKind": ""}, {"name": "dict system_stats(db: Session = Depends(get_db), _: User = Depends(require_admin))", "description": "Retrieves counts of users, devices, and telemetry data in the system.", "scope": "", "scopeKind": ""}], "calls": ["Base.metadata.create_all", "get_db", "require_admin", "db.query(User).filter(User.is_admin == True).first", "db.add", "db.commit", "func.count(User.id).scalar", "func.count(Device.id).scalar", "func.count(Telemetry.id).scalar"], "search-terms": ["admin API routes", "database initialization", "admin user seed", "system statistics", "FastAPI", "SQLAlchemy database"], "state": 2, "file_id": 17, "knowledge_revision": 35, "git_revision": "", "ctags": [{"_type": "tag", "name": "init_db", "path": "/home/kavia/workspace/code-generation/fwa-management-platform-54219-54236/rdkb_backend/src/routers/admin.py", "pattern": "/^def init_db(_: User = Depends(require_admin)) -> dict:$/", "language": "Python", "typeref": "typename:dict", "kind": "function", "signature": "(_: User = Depends(require_admin))"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/fwa-management-platform-54219-54236/rdkb_backend/src/routers/admin.py", "pattern": "/^router = APIRouter(prefix=\"\\/admin\", tags=[\"Admin\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "seed_admin", "path": "/home/kavia/workspace/code-generation/fwa-management-platform-54219-54236/rdkb_backend/src/routers/admin.py", "pattern": "/^def seed_admin(db: Session = Depends(get_db), _: User = Depends(require_admin)) -> dict:$/", "language": "Python", "typeref": "typename:dict", "kind": "function", "signature": "(db: Session = Depends(get_db), _: User = Depends(require_admin))"}, {"_type": "tag", "name": "system_stats", "path": "/home/kavia/workspace/code-generation/fwa-management-platform-54219-54236/rdkb_backend/src/routers/admin.py", "pattern": "/^def system_stats(db: Session = Depends(get_db), _: User = Depends(require_admin)) -> dict:$/", "language": "Python", "typeref": "typename:dict", "kind": "function", "signature": "(db: Session = Depends(get_db), _: User = Depends(require_admin))"}], "hash": "27faaf8a9553505e0e43d3ef505ee56d", "format-version": 4, "code-base-name": "rdkb_backend", "filename": "rdkb_backend/src/routers/admin.py", "fields": [{"name": "router = APIRouter(prefix=\"\\/admin\", tags=[\"Admin\"])", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"35": ""}]}